# Next.js 기록

1. `<Link>` component 는 동일 Next.js app의 여러 두 페이지 간 client-side navigation을 가능하도록 한다.
   - 즉, Link를 통해 페이지를 옮겨가지만, client-side 네비게이션을 수행하여, 전체 페이지를 리로드하지 않는다.
   - 이는, 홈이 먼저 로드될 때 다른 페이지들의 코드는 로드하지 않는다는 말이며, 각 페이지들이 격리된다는 뜻이다.
   - 마치 리액트처럼 동작하여, 수백개의 페이지여도 빠르게 로드 가능하게 한다.
   - `<a>`태그를 사용하면, full-page를 로드한다.
   - 그리고, 일단 Link컴포넌트가 브라우저 뷰포트에 나타날 때, 즉 Link가 있는 페이지가 렌더될 때, Linked된 페이지의 코드를 백그라운드에서 prefetches한다. 즉 먼저 가져와놓는다는 말이다. 이를 통해 백그라운드에서 이미 로드된 목적페이지가 버튼 등을 통한 이벤트가 발생했을 때, 거의 즉시 보여지게 된다.
   - 요약하자면, code splitting, client-side navigation, prefetching을 통해 최고의 앱 최적화 성능을 보여줄 수 있다.

2. Assets, Metadata, and CSS
- Next.js는 Image컴포넌트를 `next/image`에서 제공한다. 이는 img태그의 확장 컴포넌트이다.
- 이는, default로 이미지 resizing, optimizing, 그리고 WebP같은 모던포맷으로 이미지를 전달해준다(브라우저가 지원하는 한).
- 이미지 최적화는 심지어는 외부데이터소스에서 호스트된 이미지까지 포함할정도로 어떤 이미지 소스에 대해서도 수행한다.
- Next.js는 이미지를 빌드 시 최적화하지 않고, 사용자의 요청에 따른 온디맨드로 최적화한다. 정적 사이트 생성기와 다르게 이미지의 개수와 상관없이 빌드타임이 길어질 일이 없다는 뜻이다.
- 이미지는 뷰포트에 들어와야만 로드된다. 사용자가 스크롤하여 해당 이미지에 도달해야 그것을 로드한다.